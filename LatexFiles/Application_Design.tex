\paragraph{} 
\texttt{JavaScript} is a scripting language, not a programming language. It is easier for non-programmers to use a language like \texttt{JavaScript} than \texttt{Java} to develop a web application. \texttt{JavaScript} has a set of features design to make it more forgiving and easier to use for beginner programmers. However, these features does not incite developers to design properly their application. Besides, this lack of constraints may make bugs more likely. 

\subsection{Scope of variables}

\paragraph{}
\texttt{Javascript} allows to the programmer to define \emph{local} and \emph{global} variables (listing~\ref{VarDefinition}).
\begin{lstlisting}[caption={Defining variables}, label={VarDefinition}]
    var i = 10; // a local variable
    j = 20;     // a global variable
\end{lstlisting}

\paragraph{}
In \texttt{JavaScript} local variables are declared with the keyword \texttt{var}. If the programmer forgets to add this keyword before the declaration of a variable it is a global variable. Global variables are accessible from anywhere, even in different files loaded on the same page. In the listing~\ref{variables}, even if the variable \texttt{j} is declared inside the function \texttt{f}, this variable is global : it will be accessible everywhere.  
\begin{lstlisting}[caption={Global and local variables}, label={variables}]
function f(x, y) {
    var i = 10; // a local variable
    j = 20;     // a global variable
}
\end{lstlisting}

\paragraph{}
With \texttt{JavaScript} it is very easy to use a lot of global variables, and to create them by accident (forgetting the keyword \texttt{var}). However, this is not a good programming practice. The scope of the global variables is not limited, they can be read and modified everywhere : it may be a source of unreadability. Code is easier to understand and to maintain when the scope of its variables is limited. Besides, it is very easy to overwrite gobal variables unintentionally and create bugs. Finally, it is very hard to reuse your code in another project if it contains a lot of global variables : the risk of collision is too important.

\paragraph{}
With \texttt{JavaScript} there is no block-level scope like in \texttt{Java} : even if a variable is defined inside a function, its scope is not always only the function. Programmers have to be very careful with the scope of variables in \texttt{JavaScript}.
\subsection{Closure}
A special case of the scoping rules of JavaScript allows for a very powerful feature. When a function is nested in an outer function, the nested function can access all variables in the outer function \emph{even after the outer function has returned}.
\subsection{Creating an object}
\paragraph{}
\texttt{JavaScript} offers several ways to create an object with its fields and its methods. The listings~\ref{way1},~\ref{way2} and~\ref{way3} show the different options.
        
\begin{lstlisting}[caption={Creating an object with a constructor}, label={way1}]
function coordinates(x, y) {
    // Definition of the fields
    this.x = x;
    this.y = y;
    // Definition of the methods
    this.setX = setX;
    function setX(x) {
        this.x = x;
    }
    this.setY = setY;
    function setY(y) {
        this.y = y;
    }
}
var point = new coordinates(1, 2);
\end{lstlisting}
        
\begin{lstlisting}[caption=Creating an object with the "C-structure" syntax, label={way2}]
// We suppose the functions setX and setY are defined before
var point = {x:1, y:2, setX:setX, setY:setY};
\end{lstlisting}

\begin{lstlisting}[caption=Creating an object with the operator "new Object()", label={way3}]
var point = new Object();
point.x = 1;
point.y = 2;
// We suppose the functions setX and setY are defined before
point.setX = setX;
point.setY = setY;
\end{lstlisting}

Whatever the method used to create the object, it is always possible to add another field or another method dynamically (listing~\ref{addField}).
\begin{lstlisting}[caption=Adding a new field or a new method dynamically", label={addField}]
point.z = 3;
function setZ(z) {
        this.z = z;
    }
point.setZ = setZ;
\end{lstlisting}

\paragraph{}
With the "C-structure" syntax and the operator \texttt{new Object()} it is very easy to develop a \texttt{JavaScript} application without thinking about the design of the application. Non-experienced developers may write code very quickly without thinking about readability for future developers and maintainability. However, the \texttt{JavaScript} constructors can be used as the classes in \texttt{Java} to define all the fields and the methods of an object.


%%	Global object
%%	code structure/design
%%    Syntax and semantics
%%        -blocks
%%            function, 
%%
%%var carname="Volvo";
%%var carname;
%%    -> no error, the variable carname has still the value "Volvo"
%%
%%
%%	- scope
%%The lifetime JavaScript variables starts when they are declared.
%%Local variables are deleted when the function is completed.
%%Global variables are deleted when you close the page.
%%
%%
%%	- semicolon
%%Ending statements with semicolon is optional in JavaScript.
%%	- this
%%	- object vs function
%%	- multi paradigm
%%
